---
import BaseLayout from "../layouts/BaseLayout.astro";
import { siteData } from "../data/config/site";
import { Icon } from "astro-icon/components";
import BackgroundDecorations from "../components/ui/BackgroundDecorations.astro";
import ContactForm from "../components/forms/ContactForm.astro";
import "../styles/sections/contact-sections.css";
---

<BaseLayout
  title="Contact Us | AUXO Data Labs"
  description="Get in touch with AUXO Data Labs. We're here to help transform your data analytics capabilities. Contact us for inquiries, consultations, or partnerships."
  showParticles={false}
>
  <section
    id="contact-main"
    class="relative w-full min-h-screen flex items-center justify-center overflow-hidden py-12 sm:py-20 lg:py-24 px-4 sm:px-6"
  >
    <BackgroundDecorations gradients={["hero"]} patterns={["grid"]} />

    <div class="grid-container relative z-10 w-full">
      <div class="col-span-full max-w-7xl mx-auto w-full">
        <div class="text-center mb-10 sm:mb-12 lg:mb-16">
          <h1 class="text-h1 font-extrabold mb-4 sm:mb-5 lg:mb-6 leading-tight tracking-tight text-theme-primary font-display" data-aos="fade-down">
            Let's <span class="text-accent-green font-black text-[1.05em]">Connect</span>
          </h1>
          <p class="text-body-lg sm:text-body-xl text-theme-secondary leading-relaxed max-w-2xl mx-auto font-body" data-aos="fade-up" data-aos-delay="100">
            Ready to transform your data analytics? Start with a conversation.
          </p>
        </div>

        <div class="mb-12 sm:mb-16 lg:mb-20" data-aos="zoom-in" data-aos-delay="150">
          <div class="calendly-inline-widget-container max-w-5xl mx-auto bg-theme-card/50 backdrop-blur-sm rounded-2xl border border-accent-green/20 overflow-hidden shadow-2xl">
            <div
              id="calendly-widget"
              class="calendly-inline-widget"
              data-url="https://calendly.com/admin-auxodata/30min"
            ></div>
          </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 xl:gap-16" id="contact-form">
          <div class="space-y-6 lg:space-y-8" data-aos="fade-right" data-aos-duration="400" data-aos-delay="200">
            <div class="text-center lg:text-left">
              <h2 class="text-h3 font-extrabold mb-3 text-theme-primary font-display">
                Reach Out
              </h2>
              <p class="text-theme-secondary font-body leading-relaxed max-w-md mx-auto lg:mx-0">
                We typically respond within 24 hours. Share your challenge, and we'll provide insights on how we can help.
              </p>
            </div>

            <div class="space-y-4 max-w-md mx-auto lg:mx-0 lg:max-w-none">
              <a
                href={`mailto:${siteData.email}`}
                class="flex items-center gap-4 p-4 sm:p-5 rounded-xl bg-theme-card border border-accent-green/20 hover:border-accent-green/40 hover:shadow-lg hover:shadow-accent-green/10 hover:-translate-y-0.5 transition-all duration-300 group"
              >
                <div class="w-12 h-12 bg-accent-green/15 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-accent-green/25 group-hover:scale-110 transition-all">
                  <Icon name="mdi:email-outline" class="w-6 h-6 text-accent-green" />
                </div>
                <div class="flex-1 min-w-0">
                  <div class="text-xs font-semibold text-theme-secondary mb-1 font-body uppercase tracking-wide">Email</div>
                  <div class="text-sm sm:text-base font-bold text-theme-primary font-body truncate group-hover:text-accent-green transition-colors">
                    {siteData.email}
                  </div>
                </div>
                <Icon name="mdi:arrow-right" class="w-5 h-5 text-accent-green opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all flex-shrink-0" />
              </a>

              <div class="flex items-center gap-4 p-4 sm:p-5 rounded-xl bg-theme-card border border-accent-green/20">
                <div class="w-12 h-12 bg-accent-green/15 rounded-lg flex items-center justify-center flex-shrink-0">
                  <Icon name="mdi:map-marker" class="w-6 h-6 text-accent-green" />
                </div>
                <div class="flex-1">
                  <div class="text-xs font-semibold text-theme-secondary mb-1 font-body uppercase tracking-wide">Location</div>
                  <div class="text-sm sm:text-base font-bold text-theme-primary font-body">
                    {siteData.address.city}, {siteData.address.country}
                  </div>
                </div>
              </div>

              <div class="flex items-center gap-4 p-4 sm:p-5 rounded-xl bg-accent-green/10 border border-accent-green/30">
                <div class="w-12 h-12 bg-accent-green/20 rounded-lg flex items-center justify-center flex-shrink-0">
                  <Icon name="mdi:clock-check-outline" class="w-6 h-6 text-accent-green" />
                </div>
                <div class="flex-1">
                  <div class="text-xs font-semibold text-theme-secondary mb-1 font-body uppercase tracking-wide">Response Time</div>
                  <div class="text-base sm:text-lg font-extrabold text-accent-green font-display">
                    {siteData.stats.responseTime}
                  </div>
                </div>
              </div>
            </div>

          </div>

          <div class="max-w-md mx-auto lg:mx-0 lg:max-w-none w-full" data-aos="fade-left" data-aos-delay="200">
            <ContactForm />
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>


<script>
  import { setupSectionInit } from "../scripts/sections/utils/initUtils.js";
  import { refreshScrollAnimationsWithDelay } from "../scripts/scrollAnimations.js";
  import { initEmailJS, handleContactFormSubmit, addRealTimeValidation } from "../scripts/forms/emailHandler.js";
  import { initNotifications } from "../scripts/utils/notifications.js";
  import { setupCalendly } from "../scripts/utils/calendly";

  setupSectionInit(() => refreshScrollAnimationsWithDelay());
  setupCalendly();
  initEmailJS();
  initNotifications();

  const form = document.getElementById('contact-form-element') as HTMLFormElement;
  if (form) {
    form.addEventListener('submit', handleContactFormSubmit);
    addRealTimeValidation(form);
  }
</script>

