---
import HighlightText from "./HighlightText.astro";
import { Icon } from "astro-icon/components";

export interface Props {
  title: string;
  subtitle?: string;
  highlight?: string | string[];
  highlightClass?: string;
  icon?: string;
  iconClass?: string;
  titleClass?: string;
  subtitleClass?: string;
  wrapperClass?: string;
  animationDelay?: string;
  center?: boolean;
}

const {
  title,
  subtitle,
  highlight,
  highlightClass,
  icon,
  iconClass = "w-9 h-9 sm:w-10 sm:h-10 text-accent-green",
  titleClass = "",
  subtitleClass = "",
  wrapperClass = "",
  animationDelay = "0s",
  center = true,
} = Astro.props;

const textAlignClass = center ? "text-center" : "";
const defaultTitleClass = "text-h2 font-extrabold mb-3 sm:mb-4 lg:mb-5 xl:mb-6 text-theme-primary leading-tight tracking-tight font-display px-2";
const defaultSubtitleClass = "text-body-lg text-theme-secondary leading-relaxed max-w-3xl mx-auto font-body px-4 sm:px-6";
---

<div class={`${textAlignClass} mb-8 sm:mb-10 lg:mb-12 opacity-0 fade-in-up ${wrapperClass}`} style={`animation-delay: ${animationDelay};`}>
  {icon && (
    <div class="inline-flex items-center justify-center gap-3 sm:gap-4 mb-4 sm:mb-5 sm:mb-6">
      <Icon name={icon} class={iconClass} />
      <h2 class={`${defaultTitleClass} ${titleClass}`}>
        {highlight ? (
          <HighlightText text={title} highlight={highlight} highlightClass={highlightClass} />
        ) : (
          title
        )}
      </h2>
    </div>
  )}
  {!icon && (
    <h2 class={`${defaultTitleClass} ${titleClass}`}>
      {highlight ? (
        <HighlightText text={title} highlight={highlight} highlightClass={highlightClass} />
      ) : (
        title
      )}
    </h2>
  )}
  {subtitle && (
    <p class={`${defaultSubtitleClass} ${subtitleClass}`}>
      {subtitle}
    </p>
  )}
</div>

