---
import { Icon } from "astro-icon/components";
import { getSiteConfigData } from "../../lib/sanity/siteConfig";

export interface Props {
  size?: "sm" | "lg";
  class?: string;
}

const { size = "lg", class: className = "" } = Astro.props;

const siteData = await getSiteConfigData();
const socialLinks = [
  { href: siteData.social.linkedin, icon: "mdi:linkedin", label: "Follow AUXO Data Labs on LinkedIn" },
  { href: siteData.social.twitter, icon: "mdi:twitter", label: "Follow AUXO Data Labs on Twitter" },
];

const sizeConfig = {
  sm: {
    container: "flex gap-2.5 justify-center",
    button: "w-10 h-10 min-w-[40px] min-h-[40px] rounded-lg hover:scale-110",
    icon: "w-5 h-5",
    title: "text-center mb-3",
  },
  lg: {
    container: "flex gap-4",
    button: "w-14 h-14 lg:w-16 lg:h-16 lg:min-w-[64px] lg:min-h-[64px] rounded-xl hover:-translate-y-1 active:translate-y-0 touch-target-large group",
    icon: "w-7 h-7 lg:w-8 lg:h-8 group-hover:scale-110 transition-transform",
    title: "mb-4",
  },
};

const config = sizeConfig[size];
---

<div class={className}>
  <p class={`text-xs font-semibold text-theme-secondary uppercase tracking-wider ${config.title} font-body`}>
    Follow Us
  </p>
  <div class={config.container}>
    {socialLinks.map((social) => (
      <a
        href={social.href}
        class={`${config.button} bg-accent-green/10 hover:bg-accent-green hover:text-on-accent border border-accent-green/30 hover:border-accent-green hover:shadow-lg hover:shadow-accent-green/30 active:scale-95 flex items-center justify-center text-accent-green transition-all duration-fast focus:outline-none focus:ring-[3px] focus:ring-accent-green/50`}
        aria-label={social.label}
        target="_blank"
        rel="noopener noreferrer"
      >
        <Icon name={social.icon} class={config.icon} />
      </a>
    ))}
  </div>
</div>
