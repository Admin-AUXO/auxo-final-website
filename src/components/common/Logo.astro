---
import { getBaseUrl } from "@/utils/url";

interface Props {
    size?: "sm" | "md" | "lg";
    showText?: boolean;
    href?: string;
    class?: string;
}

const {
    size = "md",
    showText = true,
    href,
    class: className = "",
} = Astro.props;

const defaultHref = getBaseUrl();

const sizeClasses = {
    sm: "h-9 w-9 sm:h-10 sm:w-10",
    md: "h-10 w-10 sm:h-11 sm:w-11 lg:h-12 lg:w-12",
    lg: "h-14 w-14 lg:h-16 lg:w-16",
};

const logoSize = sizeClasses[size];
---

<a
    href={href || defaultHref}
    class={`flex items-center space-x-2.5 sm:space-x-3 group relative touch-manipulation flex-shrink-0 z-content pointer-events-auto ${className}`}
    aria-label="AUXO Data Labs Home"
    data-nav-home
>
    <div class="relative">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 40 40"
            fill="none"
            class={`${logoSize} transition-transform duration-normal group-hover:scale-110 group-hover:rotate-3`}
            aria-label="AUXO Data Labs Logo"
        >
            <rect
                x="0"
                y="0"
                width="18"
                height="18"
                fill="var(--accent-green)"
                class="transition-colors duration-normal"></rect>
            <text
                x="9"
                y="14"
                text-anchor="middle"
                font-family="var(--font-brand)"
                font-weight="900"
                font-size="13"
                fill="var(--logo-text-color)"
                class="transition-colors duration-normal">A</text
            >
            <rect
                x="22"
                y="0"
                width="18"
                height="18"
                fill="var(--accent-green)"
                class="transition-colors duration-normal"></rect>
            <text
                x="31"
                y="14"
                text-anchor="middle"
                font-family="var(--font-brand)"
                font-weight="900"
                font-size="13"
                fill="var(--logo-text-color)"
                class="transition-colors duration-normal">U</text
            >
            <rect
                x="0"
                y="22"
                width="18"
                height="18"
                fill="var(--accent-green)"
                class="transition-colors duration-normal"></rect>
            <text
                x="9"
                y="36"
                text-anchor="middle"
                font-family="var(--font-brand)"
                font-weight="900"
                font-size="13"
                fill="var(--logo-text-color)"
                class="transition-colors duration-normal">X</text
            >
            <rect
                x="22"
                y="22"
                width="18"
                height="18"
                fill="var(--accent-green)"
                class="transition-colors duration-normal"></rect>
            <text
                x="31"
                y="36"
                text-anchor="middle"
                font-family="var(--font-brand)"
                font-weight="900"
                font-size="13"
                fill="var(--logo-text-color)"
                class="transition-colors duration-normal">O</text
            >
        </svg>
        <div
            class="absolute inset-0 bg-accent-green/20 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-normal"
        >
        </div>
    </div>
    {
        showText && (
            <div class="flex flex-col hidden lg:flex items-center">
                <div class="logo-text-container flex flex-col items-center gap-1">
                    <span
                        class="logo-tagline text-lg sm:text-xl lg:text-2xl font-extrabold tracking-tight leading-tight transition-colors text-center font-display text-theme-primary"
                    >
                        Data Labs
                    </span>
                    <span
                        class="logo-subtitle text-accent-green text-sm sm:text-base lg:text-lg font-semibold leading-tight transition-colors text-center font-display"
                    >
                        Look Beyond Data
                    </span>
                </div>
            </div>
        )
    }
</a>

<style>
    .logo-text-container {
        min-width: 140px; /* Ensure minimum width for both texts */
    }

    .logo-tagline,
    .logo-subtitle {
        display: inline-block;
        width: 100%;
        box-sizing: border-box;
    }

    /* Ensure consistent spacing and alignment */
    .logo-tagline {
        margin-bottom: 0.25rem;
    }

    .logo-subtitle {
        margin-top: 0.25rem;
    }
</style>