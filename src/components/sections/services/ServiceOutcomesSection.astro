---
import { Icon } from "astro-icon/components";
import SectionContainer from "../../layouts/SectionContainer.astro";
import HighlightText from "../../ui/HighlightText.astro";
import BackgroundDecorations from "../../ui/BackgroundDecorations.astro";
import type { ServiceDetail } from "../../../data/content/services";

interface Props {
  service: ServiceDetail;
}

type OutcomeMetric = {
  label: string;
  value: string;
  description: string;
};

const { service } = Astro.props;
---

<SectionContainer
  id="service-outcomes"
  padding="lg"
  background="default"
  class="relative service-outcomes-section section-divider overflow-hidden"
>
  <BackgroundDecorations gradients={["hero"]} />

  <div class="grid-container relative z-10">
    <div class="col-span-full max-w-6xl mx-auto">
      <div
        class="text-center mb-12 lg:mb-16"
        data-aos="fade-down"
      >
        <h2 class="text-h2 font-extrabold mb-4 lg:mb-6 leading-tight tracking-tight font-display text-theme-primary">
          {service.outcomes.title}
        </h2>
        <p class="text-base sm:text-body-lg lg:text-body-xl text-theme-secondary leading-relaxed max-w-3xl mx-auto font-body">
          <HighlightText
            text={service.outcomes.description}
            highlight={service.outcomes.descriptionHighlight || []}
            highlightClass="text-accent-green font-semibold"
          />
        </p>
      </div>

      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8">
        {service.outcomes.metrics.map((metric: OutcomeMetric, index: number) => (
          <div
            class="group"
            data-aos="zoom-in"
            data-aos-delay={index * 50}
          >
            <div class="h-full bg-gradient-to-br from-accent-green/10 via-accent-green/5 to-transparent border-2 border-accent-green/30 rounded-2xl p-6 lg:p-8 text-center relative overflow-hidden transition-all duration-500 hover:border-accent-green/50 hover:-translate-y-1">
              <div class="relative z-10">
                <div class="text-3xl lg:text-4xl font-extrabold text-accent-green mb-2 lg:mb-3 font-display">
                  {metric.value}
                </div>
                <h3 class="text-lg lg:text-xl font-bold text-theme-primary mb-3 lg:mb-4 font-display">
                  {metric.label}
                </h3>
                <p class="text-body-sm text-theme-secondary leading-relaxed font-body">
                  {metric.description}
                </p>
              </div>
            </div>
          </div>
        ))}
      </div>

      <div class="mt-12 lg:mt-16 text-center">
        <div class="inline-flex items-center gap-3 px-6 py-3 bg-accent-green/10 border border-accent-green/20 rounded-full">
          <Icon name="mdi:trending-up" class="w-5 h-5 text-accent-green" />
          <span class="text-sm font-semibold text-accent-green font-body">
            Measurable results backed by data-driven methodologies
          </span>
        </div>
      </div>
    </div>
  </div>
</SectionContainer>
